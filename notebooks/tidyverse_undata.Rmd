---
title: "tidyverse_undata"
author: "PS"
date: "2023-11-18"
output: html_document
---
In this notebook we will explore UNdata using tidyverse libraries
```{r}
library(tidyverse)
```

read the csv file gdp
```{r}
gdp_df <- read_csv('../data/gdp_per_capita.csv',col_select = c('Country or Area', Year, Value))
```
```{r}
gdp_df <-gdp_df |>
  rename(Country = `Country or Area`, Year = `Year`, GDP_Per_Capita = 'Value')
  head()
```

Dropped the column Value_Footnotes and rename the columns

3. Which years are represented in this dataset? How many observations are there per year? Make a plot
to view the number of observations per year.


```{r}
gdp_df |>
  distinct(Year)
```
A total of 31 years from the year 1990 to 2020 are reprensented in the dataset.


```{r}
gdp_df |>
  ggplot(aes(x=Year)) +
  geom_bar()
```
4. How many countries are represented in this dataset? Which countries have the fewest observations?

```{r}
gdp_df |>
  summarize(num_countries = n_distinct(Country))
```

A total of 242 countries are represented in this dataset

```{r}
gdp_df %>%
  group_by(Country) %>%
  summarize(count = n()) %>%
  arrange(count) %>%
  head(5)

```

The above listed countries have the fewest observations 

5. Create a new dataframe by subsetting gdp_df to just the year 2014. Call this new dataframe gdp_2014.

```{r}
gdp_2014 <- gdp_df |>
  filter(Year == 2014)
```

6. Use .describe() to find the summary statistics for GDP per capita in 2014.

```{r}
gdp_2014 |>
  summary(GDP_Per_Capita)
```
7. Histogram for GDP per capita numbers for the year 2014

```{r}
gdp_2014 |>
  ggplot(aes(x=GDP_Per_Capita)) +
  geom_histogram(binwidth = 1000)
```
8. Find the top 5 counties and bottom 5 countries by GDP per capita in 2014.

TOP 5 countries by GDP
```{r}
gdp_2014 %>%
  arrange(desc(GDP_Per_Capita)) |>
  head(5)
```

Bottom 5 countries by GDP
```{r}
gdp_2014 %>%
  arrange(GDP_Per_Capita) |>
  head(5)
```



